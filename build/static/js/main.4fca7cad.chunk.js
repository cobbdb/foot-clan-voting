(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(65)},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(27),l=a.n(o),s=a(3),i=a(40),u=a(15),m=a(36),d=a(41),p=a.n(d),b=a(12),h=a(38),f=a(31),E=a(18),O={open:!1,error:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCKET_OPEN":return Object(E.a)({},e,{open:!0,error:!1});case"SOCKET_ERROR":return Object(E.a)({},e,{error:t.code,open:!1});case"CLEAR":default:return e}},j=a(46),y={active:!1,facet:!1,records:[{username:"khalilah",class:"warrior"},{username:"fatherhands",class:"priest"},{username:"manthong",class:"warrior"},{username:"shimmer",class:"mage"},{username:"bertholomule",class:"rogue"}]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BREAKDOWN":return Object(E.a)({},e,{facet:t.facet});case"SELECT_TOON":return Object(E.a)({},e,{active:t.username});case"LOAD_TOON":var a=Object(j.a)(e.records),n=Object(E.a)({},t.toon),r=a.findIndex(function(e){return e.username===n.username});return a[r]=n,Object(E.a)({},e,{records:a});case"CLEAR":return Object(E.a)({},y,{records:e.records});default:return e}},N=Object(b.a)(),k=[Object(h.a)(N)],w=Object(u.e)(Object(m.a)({key:"foot-clan-voting",storage:p.a},(n=N,Object(u.c)({router:Object(f.a)(n),socket:v,toons:g}))),{},u.d.apply(void 0,[u.a.apply(void 0,k)].concat([]))),C=Object(m.b)(w),x=a(4),P=a(5),R=a(8),T=a(6),S=a(7),W=a(16),D=a(43),_=!1,z=a(17),A=a(19),L=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(R.a)(this,Object(T.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(z.a)(a)),a}return Object(S.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"CLEAR"})}},{key:"handleClick",value:function(e){var t=e.target;this.props.dispatch({type:"SELECT_TOON",username:t.id})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"vh-100 d-flex justify-content-center align-items-center"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",{className:"display-4 text-primary mb-4"},"Who Are You?"),c.a.createElement("div",{className:"d-flex flex-column"},this.props.toons.map(function(t){return c.a.createElement(A.a,{to:"/dash",key:t.username,id:t.username,className:["btn btn-light btn-lg rounded-sm text-capitalize mb-2","text-".concat(t.username)].join(" "),onClick:e.handleClick},t.username)}))))}}]),t}(c.a.PureComponent),B=Object(s.c)(function(e){return{toons:e.toons.records}})(L),M=a(23),K=a(24),J=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"header",className:"px-3 bg-secondary d-flex align-items-center"},c.a.createElement(A.b,{exact:!0,to:"/",className:"btn btn-secondary btn-lg rounded-pill"},c.a.createElement(M.a,{size:"lg",flip:"horizontal",icon:K.c})),c.a.createElement("div",{className:"w-100 text-center"},c.a.createElement(A.b,{to:"/dash",className:["btn btn-secondary btn-lg mr-4 rounded-pill text-capitalize","text-".concat(this.props.username)].join(" ")},c.a.createElement(M.a,{icon:K.d,className:"mr-2"}),this.props.username),c.a.createElement(A.b,{to:"/summary",className:"btn btn-secondary btn-lg rounded-pill mr-3"},c.a.createElement(M.a,{icon:K.e,className:"mr-2"}),"The FETs")))}}]),t}(c.a.PureComponent),H=Object(s.c)(function(e){return{username:e.toons.active}})(J),U=a(68),Y=a(66),F=a(29),I=a(67),q=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(R.a)(this,Object(T.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(z.a)(a)),a}return Object(S.a)(t,e),Object(P.a)(t,[{key:"handleClick",value:function(){!function(e,t){var a=Object(E.a)({username:e},t),n=JSON.stringify(a);_.send("PUT/USER/".concat(a.username,"/").concat(n))}(this.props.username,Object(F.a)({},this.props.id,this.props.value))}},{key:"render",value:function(){var e=this,t=this.props.toons.find(function(t){return t.username===e.props.username})[this.props.id]===this.props.value;return c.a.createElement(Y.a,{lg:"6"},c.a.createElement(I.a,{onClick:this.handleClick,className:"option d-flex align-items-center m-0 ".concat(t?"active":""),size:"lg",block:!0},c.a.createElement("div",{className:["mr-2","".concat(this.props.id,"-icon"),this.props.value.toLowerCase()].join(" ")}),this.props.children))}}]),t}(c.a.PureComponent),G=Object(s.c)(function(e){return{toons:e.toons.records,username:e.toons.active}})(q),Q={realms:["PvP","PvE"],raid:["Yes","No","Maybe"],pvp:["Yes","No","Maybe"],roles:["Tank","Healer","Melee DPS","Ranged DPS"],factions:["Horde","Alliance","Nope"],classes:["Warrior","Priest","Druid","Hunter","Shaman","Paladin","Rogue","Mage","Warlock"]},V=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(U.a,{className:"d-flex py-4 border-bottom"},c.a.createElement(Y.a,{md:"4"},c.a.createElement("h3",{className:"mb-3"},this.props.label)),c.a.createElement(Y.a,null,c.a.createElement(U.a,null,Q[this.props.id].map(function(t){return c.a.createElement(G,{key:t,id:e.props.id,value:t.toLowerCase().replace(" ","-")},t)}))))}}]),t}(c.a.PureComponent),X=Object(s.c)()(V),Z=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"text-white"},c.a.createElement(H,null),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"bg-light p-4"},c.a.createElement(X,{label:"Realm Type?",id:"realms"}),c.a.createElement(X,{label:"Want to Raid?",id:"raid"}),c.a.createElement(X,{label:"Want to PvP?",id:"pvp"}),c.a.createElement(X,{label:"What about your role?",id:"roles"}),c.a.createElement(X,{label:"Care about faction?",id:"factions"}),c.a.createElement(X,{label:"What class are you?",id:"classes"}))))}}]),t}(c.a.PureComponent),$=Object(s.c)()(Z),ee=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(R.a)(this,Object(T.a)(t).call(this,e))).state={counts:{},total:0},a.colors=["bg-primary","bg-info","bg-secondary","bg-warning","bg-dark"],a.calculate=a.calculate.bind(Object(z.a)(a)),a.handleBreakdown=a.handleBreakdown.bind(Object(z.a)(a)),a}return Object(S.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.calculate()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.calculate()}},{key:"calculate",value:function(){var e=this,t=0,a={};this.props.toons.forEach(function(n){var r=n[e.props.id];r&&(a[r]=a[r]||0,a[r]+=1,t+=1)}),this.setState({counts:a,total:t})}},{key:"handleBreakdown",value:function(){this.props.dispatch({type:"SET_BREAKDOWN",facet:this.props.id})}},{key:"render",value:function(){var e=this;return c.a.createElement(U.a,{className:"d-flex py-4 border-bottom"},c.a.createElement(Y.a,{md:"4",className:"d-flex justify-content-between"},c.a.createElement("h3",{className:"mb-0"},this.props.label),c.a.createElement(A.a,{to:"/breakdown",className:"btn btn-light d-flex align-items-center",onClick:this.handleBreakdown},c.a.createElement(M.a,{icon:K.b,size:"lg"}))),c.a.createElement(Y.a,null,c.a.createElement("div",{className:"progress font-weight-bold mt-2",style:{height:"1.7rem"}},Object.keys(this.state.counts).map(function(t,a){if("undefined"===t)return"";var n=e.colors[a],r=e.state.counts[t]/e.state.total*100;return c.a.createElement("div",{key:t,className:"progress-bar text-capitalize ".concat(n),role:"progressbar",style:{width:"".concat(r,"%")},"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"},t," (",e.state.counts[t],")")}))))}}]),t}(c.a.PureComponent),te=Object(s.c)(function(e){return{toons:e.toons.records,username:e.toons.active}})(ee),ae=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"text-white"},c.a.createElement(H,null),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"bg-light p-4"},c.a.createElement(te,{label:"Realm Type?",id:"realms"}),c.a.createElement(te,{label:"Want to Raid?",id:"raid"}),c.a.createElement(te,{label:"Want to PvP?",id:"pvp"}),c.a.createElement(te,{label:"What about your role?",id:"roles"}),c.a.createElement(te,{label:"Care about faction?",id:"factions"}),c.a.createElement(te,{label:"What class are you?",id:"classes"}))))}}]),t}(c.a.PureComponent),ne=Object(s.c)()(ae),re=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"text-white"},c.a.createElement(H,null),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"bg-light p-4"},this.props.toons.map(function(t){return c.a.createElement(U.a,{className:"mb-3 text-".concat(t.username)},c.a.createElement(Y.a,null,c.a.createElement("h3",{className:"text-capitalize text-right"},t.username,":")),c.a.createElement(Y.a,null,c.a.createElement("h3",{className:"font-italic"},t[e.props.id])))}))))}}]),t}(c.a.PureComponent),ce=Object(s.c)(function(e){return{toons:e.toons.records,id:e.toons.facet}})(re),oe=a(69),le=function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"vw-100 vh-100 d-flex align-items-center justify-content-center"},this.props.error?c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"bg-danger p-4"},c.a.createElement("div",null,c.a.createElement(M.a,{icon:K.a,size:"4x"})),c.a.createElement("h5",{className:"text-white-50 mt-2 mb-0"},"Error ",this.props.error)),c.a.createElement("div",{className:"bg-white p-4"},"Could not connect to server. Please try again later.")):c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.a,{color:"primary",type:"grow",style:{width:"5rem",height:"5rem"}}),c.a.createElement(oe.a,{color:"primary",type:"grow",style:{width:"5rem",height:"5rem"}}),c.a.createElement(oe.a,{color:"primary",type:"grow",style:{width:"5rem",height:"5rem"}})))}}]),t}(c.a.PureComponent),se=Object(s.c)(function(e){return{error:e.socket.error}})(le),ie=(a(64),function(e){function t(){return Object(x.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){!function(){var e=new D.w3cwebsocket("ws://www.dcobb.media:8080/","echo-protocol");e.onerror=function(){console.log("Connection Error")},e.onopen=function(){console.log("WebSocket Client Connected"),e.readyState===e.OPEN&&w.dispatch({type:"SOCKET_OPEN"})},e.onclose=function(e){console.log("echo-protocol Client Closed"),w.dispatch({type:"SOCKET_ERROR",code:e.code})},e.onmessage=function(e){var t=e.data;if("string"===typeof t){var a=JSON.parse(t);console.log("Received: ".concat(a)),a.forEach(function(e){w.dispatch({type:"LOAD_TOON",toon:e})})}},_=e}()}},{key:"render",value:function(){return this.props.ready?c.a.createElement(W.b,{history:N},c.a.createElement("div",{className:"bg-dark"},c.a.createElement(W.c,null,c.a.createElement(W.a,{exact:!0,path:"/",component:B}),c.a.createElement(W.a,{path:"/dash",component:$}),c.a.createElement(W.a,{path:"/summary",component:ne}),c.a.createElement(W.a,{path:"/breakdown",component:ce})))):c.a.createElement(se,null)}}]),t}(c.a.PureComponent)),ue=Object(s.c)(function(e){return{ready:e.socket.open}})(ie);l.a.render(c.a.createElement(s.a,{store:w},c.a.createElement(i.a,{loading:null,persistor:C},c.a.createElement(ue,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.4fca7cad.chunk.js.map